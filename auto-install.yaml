autoinstall:
  version: 1
  identity:
    hostname: ubuntu-desktop
    username: administrator
    # generate a SHA512-based encrypted password: $ openssl passwd -6 'Itadmin#$2025'
    password: "$6$4vkgWrx3$9ylt7ODXZ02V7d9M.Jeb9RsOsoJLSRZobwh53jvl09dtzi3O0Dcl/ugUcnLZ4jLk.1xOiGdxOsWeL/bO5R.kd1"
  storage:
    layout:
      name: lvm
  packages:
    - vim
    - docker.io
    - docker-compose
    - python3
    - python3-pip
  late-commands:
    - curtin in-target -- wget https://repo2.protonvpn.com/debian/dists/stable/main/binary-all/protonvpn-stable-release_1.0.3-3_all.deb
    - curtin in-target -- dpkg -i ./protonvpn-stable-release_1.0.3-3_all.deb
    - curtin in-target -- apt update
    - curtin in-target -- apt install -y proton-vpn-gnome-desktop
    - curtin in-target -- systemctl enable docker
    - curtin in-target -- systemctl start docker
    - curtin in-target -- usermod -aG docker administrator
